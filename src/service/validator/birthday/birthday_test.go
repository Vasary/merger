package birthday

import (
	"fmt"
	"testing"
)

var examples = []struct {
	cases  []string
	result bool
}{
	{
		result: true,
		cases: []string{
			"7 oct 1970",
			"03 Feb 2013",
			"2013-Feb-03",
			"3/31/2014",
			"03/31/2014",
			"08/21/71",
			"8/1/71",
			"4/8/2014",
			"04/08/2014",
			"4/8/14",
			"04/2/2014",
			"8/8/1965",
			"8/8/1965",
			"8/8/1965",
			"8/8/1965",
			"8/8/1965",
			"4/02/2014",
			"03/19/2012",
			"2014/3/31",
			"2014/03/31",
			"2014/4/8",
			"2014/04/08",
			"2014/04/2",
			"2014/4/02",
			"2012/03/19",
			"2012/03/19",
			"2006-01-02",
			"2009-08-12",
			"2009-08-12",
			"2009-08-12",
			"2014-04-26",
			"2012-08-03",
			"2014-04-26",
			"2013-04-01",
			"2013-04-01",
			"2014-12-16",
			"2014-12-16",
			"2014-04-26",
			"2014-04-26",
			"2014-04-26",
			"2012-08-03",
			"2015-09-30",
			"2015-02-18",
			"2015-02-18",
			"2015-02-08",
			"2015-02-08",
			"2017-07-19",
			"2014-04-26",
			"2014-05-11",
			"3.31.2014",
			"03.31.2014",
			"08.21.71",
			"2014-04",
			"2014.03",
		},
	},
	{
		result: false,
		cases: []string{
			"2019-01-01",
			"2014",
			"132131321",
			"",
		},
	},
}

func TestBirthdayValidator(t *testing.T) {
	t.Run("Validate birthday", func(t *testing.T) {
		for _, element := range examples {
			for _, testData := range element.cases {
				if Validate(testData) != element.result {
					t.Error(fmt.Sprintf("Birthday validation error with parameter %v", testData))
				}
			}
		}
	})
}
